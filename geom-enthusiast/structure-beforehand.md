# Создатель геометрических фигур

## Объекты, команды, функциональность

### Базовые понятия

1. **Цвет**. Есть список допустимых цветов: белый (по умолчанию), красный, зелёный, синий, жёлтый.
2. **Имя**. Заглавные и строчные буквы латинского алфавита / цифры / дефис / нижнее подчеркивание.
   - regex `[a-zA-Z][a-zA-Z0-9\-_]*`
   - добавить возможность иметь в названии пробелы (argument parser / tokenizer / whatever)
3. **Тег**. Строчные буквы латинского алфавита, цифры, дефис.
   - regex `[a-z][a-z0-9\-]*`
4. **Идентификатор**. Натуральное число, присваиваемое каждому объекту при инициализации.
   Объекты имеют уникальный идентификатор при каждом запуске программы и могут им однозначно определяться.
   Внутренняя несериализуемая информация, может меняться от запуска к запуску.

### Команды верхнего уровня

1. list/ls - показывает список ГФ
2. create/new - создает на выбор одну из доступных ГФ
    1. Точка
    2. Отрезок
    3. Треугольник
    4. Прямоугольник
    5. Ромб
    6. Куб
    7. Пирамида (с прямоугольным основанием)
3. save - сохраняет список ГФ в файл.
4. load - загружает список ГФ из файла.
5. inspect - переходит в режим осмотра данной ГФ, на вход передается ID фигуры из списка.

### Точка

Имеет следующие свойства:

- **ID**. 
- **цвет**, по умолчанию белый.
- **имя**, может быть одно, по умолчанию не задано.
- **теги**, может быть несколько, по умолчанию нет.

Имеет следующие команды:

1. `show` -- показывает доступную информацию о точке
   - В общем виде выведет `Point[<id>] <name> (<tag1>,<tag2>,..<tag n>)` заданным цветом.
   - Если передан параметр `-s|--short`, выведет `Point[<id>] <name>`.
2. `id` -- выводит ID.
3. `name` -- выводит имя. Если имя не задано, выведет `This point does not have a name`. 
4. `color` -- выводит цвет.
5. `tags` -- выводит список тегов. Если список пуст, выведет `This point does not have tags assigned to it`.
6. `set` -- задаёт информацию о точке. Принимает на вход от одного до всех параметров (цвет, имя, теги)
   - `set [-n|--name <name>] [-c|--color <color>] [-t|--tags <list of tags>]` -- полный вид команды
7. `tag add <list of tags>`
8. `tag remove <list of tags>`
9. `back` -- переходит в режим верхнего уровня либо к осмотру той ГФ, из которой был вызван `inspect`.

Возможные состояния/представления:
- `Point[1]`
- `Point[1] "Slam"`
- `Point[1] "Slam_2011" (incision,slam-team,ksm-brutal-fest-2011)`

### Отрезок

Представляет собой пару точек. Имеет следующие свойства:

- **ID**
- **цвет**, по умолчанию белый.
- **имя**, может быть одно, по умолчанию не задано.
- **теги**, может быть несколько, по умолчанию нет.

Имеет следующие команды:
1. `show` -- показывает доступную информацию об отрезке.
   - Если отрезок дефолтный, выведет `Section[<id>] {Point[<id>], Point[<id>]}`
   - В общем случае выведет `Section[<id>] <name> {Point[<id>] <name>, Point[<id>] <name>}`,
     причем информация об отрезке будет выделена цветом отрезка, а точки будут своих цветов.
   - если передан параметр `-s|--short`, будет выведено `Section[<id>] <name>`.
   - если передан параметр `-t|--with-tags`, будут выведены теги объектов.
   - если вызван `show point [<id>|<name>]`, будет выведена информация о точке отрезка
     с данным именем или ID.
2. `id` -- выводит ID отрезка.
3. `name` -- выводит имя отрезка.
4. `color` -- выводит цвет отрезка.
5. `tags` -- выводит теги отрезка.
6. `tag add <list of tags>`
7. `tag remove <list of tags>`
8. `set` -- задает информацию об отрезке. Принимает на вход от одного до всех параметров (цвет, имя, теги)
   - `set [-n|--name <name>] [-c|--color <color>] [-t|--tags <list of tags>]` -- полный вид команды
9. `inspect` -- переходит в режим осмотра данной точки отрезка.
   - `inspect [<id>|<name>]`
10. `back` -- переходит в режим верхнего уровня либо возвращается к осмотру той ГФ, из который был вызван `inspect`.  

Примеры возможных состояний/представлений:
- `Section[5]`
- `Section[5] "Mushroom"`
- `Section[5] "Mushroom" {Point[1] "fly_agaric", Point[2] "champignon"}`
- `Section[5] "Shroom-235" (little-boy,fat-man) {Point[1] "Hiroshima" (august-6-1945), Point[2] "Nagasaki" (august-9-1945)}`

### Треугольник

Представляет собой набор трех отрезков, имеющих общие точки.

- **ID**
- **цвет**, по умолчанию белый.
- **имя**, может быть одно, по умолчанию не задано.
- **теги**, может быть несколько, по умолчанию нет.

Имеет следующие команды:
1. `show` -- показывает доступную информацию о треугольнике.
   - Если треугольник дефолтный, выведет `Triangle[<id>] {Section[<id>], Section[<id>], Section[<id>]}`
   - В общем случае выведет
     `Triangle[<id>] <name> {Section[<id>] <name>, Section[<id>] <name>, Section[<id>] <name>}`
   - Если передан параметр `-s|--short`, будет выведено `Triangle[<id>] <name>`
   - Если передан параметр `--all`, будут выведены отрезки с точками
   - Если передан параметр `-t|--with-tags`, будут также выведены теги объектов.
2. `id` -- выводит ID треугольника.
3. `name` -- выводит имя треугольника.
4. `color` -- выводит цвет треугольника.
5. `tags` -- выводит теги треугольника.
6. `tag add <list of tags>`
7. `tag remove <list of tags>`
8. `set` -- задает информацию о треугольнике. Принимает на вход от одного до всех параметров (цвет, имя, теги)
   - `set [-n|--name <name>] [-c|--color <color>] [-t|--tags <list of tags>]` -- полный вид команды
9. `inspect` -- переходит в режим осмотра отрезка или точки данного треугольника.
   - `inspect [<id>|<name>]`
10. `back` -- переходит в режим верхнего уровня либо возвращается к осмотру той ГФ, из который был вызван `inspect`.

### Прямоугольник

Представляет собой совокупность четырех отрезков, имеющих общие точки.  

- **ID**
- **цвет**, по умолчанию белый.
- **имя**, может быть одно, по умолчанию не задано.
- **теги**, может быть несколько, по умолчанию нет.

Имеет следующие команды:
1. `show` -- показывает доступную информацию о прямоугольнике.
   - Если пр-к дефолтный, выведет `Rectangle[<id>] {Section[<id>], Section[<id>], Section[<id>], Section[<id>]}`
   - В общем случае выведет
     `Rectangle[<id>] <name> {Section[<id>] <name>, Section[<id>] <name>, Section[<id>] <name>, Section[<id>] <name>}`
   - Если передан параметр `-s|--short`, будет выведено `Rectangle[<id>] <name>`
   - Если передан параметр `--all`, будут выведены отрезки с точками
   - Если передан параметр `-t|--with-tags`, будут также выведены теги объектов.
2. `id` -- выводит ID пр-ка.
3. `name` -- выводит имя пр-ка.
4. `color` -- выводит цвет пр-ка.
5. `tags` -- выводит теги пр-ка.
6. `tag add <list of tags>`
7. `tag remove <list of tags>`
8. `set` -- задает информацию о прямоугольнике. Принимает на вход от одного до всех параметров (цвет, имя, теги)
   - `set [-n|--name <name>] [-c|--color <color>] [-t|--tags <list of tags>]` -- полный вид команды
9. `inspect` -- переходит в режим осмотра стороны или вершины прямоугольника.
   - `inspect [<id>|<name>]`
10. `back` -- переходит в режим верхнего уровня либо возвращается к осмотру той ГФ, из который был вызван `inspect`.

Примеры возможных состояний/представлений:
- `show -s` -- `Rectangle[10]`
- `show -s` -- `Rectangle[10] "square"`
- `show` -- `Rectangle[10] "square" {Section[5] "north", Section[6] "west", Section[7] "south", Section[8] "east"}`
- `show -s -t` -- `Rectangle[9] "square" (ulan-ude, square-of-soviets)`
- `show -t`:
```
Rectangle[9] "square" (ulan-ude, square-of-soviets) {
   Section[5] "north" (state-archive),
   Section[6] "west" (ministry-of-finance, geo-museum),
   Section[7] "south" (civil-registration, philharmony, baikal-plaza),
   Section[8] "east" (administration, lenin-statue)
} 
```
- `show --all`:
```
Rectangle[9] "square" {
   Section[5] "north" {Point[1] "Russia_Post", Point[2] "FSB"},
   Section[6] "west" {Point[1] "Russia_Post", Point[3] "Theater"},
   Section[7] "south" {Point[3] "Theater", Point[4] "bus-stop"},
   Section[8] "east" {Point[2] "FSB", Point[4] "bus-stop"}
} 
```
- `show -t --all`:
```
Rectangle[9] "square" (ulan-ude, square-of-soviets) {
   Section[5] "north" (state-archive) {Point[1] "Russia_Post", Point[2] "FSB"},
   Section[6] "west" (ministry-of-finance, geo-museum) {Point[1] "Russia_Post", Point[3] "Theater" (fountain)},
   Section[7] "south" (civil-registration, philharmony, baikal-plaza) {Point[3] "Theater" (fountain) , Point[4] "bus-stop"},
   Section[8] "east" (administration, lenin-statue) {Point[2] "FSB", Point[4] "bus-stop"}
} 
```

### Ромб

Представляет собой совокупность четырех отрезков, имеющих общие точки.

- **ID**
- **цвет**, по умолчанию белый.
- **имя**, может быть одно, по умолчанию не задано.
- **теги**, может быть несколько, по умолчанию нет.

Имеет следующие команды:
1. `show` -- показывает доступную информацию о ромбе.
   - Если ромб дефолтный, выведет `Rhombus[<id>] {Section[<id>], Section[<id>], Section[<id>], Section[<id>]}`
   - В общем случае выведет
     `Rhombus[<id>] <name> {Section[<id>] <name>, Section[<id>] <name>, Section[<id>] <name>, Section[<id>] <name>}`
   - Если передан параметр `-s|--short`, будет выведено `Rectangle[<id>] <name>`
   - Если передан параметр `--all`, будут выведены отрезки с точками.
   - Если передан параметр `-t|--with-tags`, будут также выведены теги объектов.
2. `id` -- выводит ID ромба.
3. `name` -- выводит имя ромба.
4. `color` -- выводит цвет ромба.
5. `tags` -- выводит теги ромба.
6. `tag add <list of tags>`
7. `tag remove <list of tags>`
8. `set` -- задает информацию о ромбе. Принимает на вход от одного до всех параметров (цвет, имя, теги)
   - `set [-n|--name <name>] [-c|--color <color>] [-t|--tags <list of tags>]` -- полный вид команды
9. `inspect` -- переходит в режим осмотра стороны или вершины ромба.
   - `inspect [<id>|<name>]`
10. `back` -- переходит в режим верхнего уровня либо возвращается к осмотру той ГФ, из который был вызван `inspect`.

### Куб

Представляет собой совокупность шести граней-квадратов. В составе куба 8 вершин, 12 ребер, 6 граней.

- **ID**
- **цвет**, по умолчанию белый.
- **имя**, может быть одно, по умолчанию не задано.
- **теги**, может быть несколько, по умолчанию нет.

Имеет следующие команды:

1. `show`
2. `id` - выводит ID куба.
3. `name` -- выводит имя куба.
4. `color` -- выводит цвет куба.
5. `tags` -- выводит теги куба.
6. `tag add <list of tags>`
7. `tag remove <list of tags>`
8. `set` -- задает информацию о кубе. Принимает на вход от одного до всех параметров (цвет, имя, теги)
   - `set [-n|--name <name>] [-c|--color <color>] [-t|--tags <list of tags>]` -- полный вид команды
9. `inspect` -- переходит в режим осмотра составного элемента куба.
   - `inspect [<id>|<name>]`
10. `back` -- переходит в режим верхнего уровня.

Примеры возможных состояний/представлений:

- `show -s` -- `Cube[30]`
- `show -s` -- `Cube[30] "some_cube" `
- `show` -- `Cube[30] "Some_Cube" {Rectangle[21] "Front", Rectangle[22] "Back", Rectangle[23] "Top", Rectangle[24] "Left", Rectangle[25] "Bottom",  Rectangle[26] "Right"}`
- `show -t`:
```
Cube[30] "Refrigerator" (fridge,no-frost) {
   Rectangle[21] "Front" (door),
   Rectangle[22] "Back" (vapor-chamber),
   Rectangle[23] "Top" (nice-hat),
   Rectangle[24] "Left" (sun-side,funny-side),
   Rectangle[25] "Bottom" (underground),
   Rectangle[26] "Right" (kitchen-side)
}
```

### Пирамида с прямоугольным основанием
