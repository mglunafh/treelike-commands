# Создатель геометрических фигур

## Объекты, команды, функциональность

### Базовые понятия

1. **Цвет**. Есть список допустимых цветов: белый (по умолчанию), красный, зелёный, синий, жёлтый.
2. **Имя**. Заглавные и строчные буквы латинского алфавита / цифры / дефис / нижнее подчеркивание.
   - regex `^[a-zA-Z][a-zA-Z0-9\-_]*$`
   - добавить возможность иметь в названии пробелы (argument parser / tokenizer / whatever)
3. **Тег**. Строчные буквы латинского алфавита, цифры, дефис.
   - regex `^[a-z][a-z0-9\-]*$`
4. **Идентификатор**, **ID**. Натуральное число, присваиваемое каждому объекту при инициализации.
   Объекты имеют уникальный идентификатор при каждом запуске программы и могут им однозначно определяться.
   Внутренняя несериализуемая информация, может меняться от запуска к запуску.

### Команды верхнего уровня

1. `list|ls` - показывает список ГФ
2. `create|new` - создает на выбор одну из доступных ГФ
    1. Точка
    2. Отрезок
    3. Треугольник
    4. Прямоугольник
    5. Ромб
    6. Куб
    7. Пирамида (с прямоугольным основанием)
3. `save` - сохраняет список ГФ в файл.
4. `load` - загружает список ГФ из файла.
5. `inspect` - переходит в режим осмотра данной ГФ, на вход передается ID фигуры из списка.

### Точка

Имеет следующие свойства:

- **ID**. 
- **цвет**, по умолчанию белый.
- **имя**, может быть одно, по умолчанию не задано.
- **теги**, может быть несколько, по умолчанию нет.

Имеет следующие команды:

1. `show` -- показывает доступную информацию о точке
   - В общем виде выведет `Point[<id>] <name> (<tag1>,<tag2>,..<tag n>)` заданным цветом.
   - Если передан параметр `-s|--short`, выведет `Point[<id>] <name>`.
2. `id` -- выводит ID.
3. `name` -- выводит имя. Если имя не задано, выведет `This point does not have a name`. 
4. `color` -- выводит цвет.
5. `tag` -- Позволяет работать с тегами точки.
   - `tag --show` -- Выводит список тегов. Если список пуст, выведет `This point does not have tags assigned to it`.
   - `tag --add <list of tags>` -- Добавляет данные теги к списку тегов для точки.  
   - `tag --rm <list of tags>` -- удаляет, если возможно, переданные теги из точки.
6. `set` -- задаёт информацию о точке. Принимает на вход от одного до всех параметров (цвет, имя, теги)
   - `set [-n|--name <name>] [-c|--color <color>] [-t|--tags <list of tags>]` -- полный вид команды
7. `back` -- переходит в режим верхнего уровня либо к осмотру той ГФ, из которой был вызван `inspect`.
8. `hierarchy` -- показывает, частью каких фигур является.
   - для вершины пирамиды выведет `Point[<id>] <name> <- Section[<id>] <name>, Section[<id>] <name>, Section[<id>] <name>, Section[<id>] <name>  <- Triangle[<id>] <name>,  Triangle[<id>] <name>,  Triangle[<id>] <name>, Triangle[<id>] <name> <- Pyramid[<id>] <name>`

Возможные состояния/представления:
- `Point[1]`
- `Point[1] "Slam"`
- `Point[1] "Slam_2011" (incision,slam-team,ksm-brutal-fest-2011)`

### Отрезок

Представляет собой пару точек. Имеет следующие свойства:

- **ID**
- **цвет**, по умолчанию белый.
- **имя**, может быть одно, по умолчанию не задано.
- **теги**, может быть несколько, по умолчанию нет.

Имеет следующие команды:
1. `show` -- показывает доступную информацию об отрезке.
   - Если отрезок дефолтный, выведет `Section[<id>] {Point[<id>], Point[<id>]}`
   - В общем случае выведет `Section[<id>] <name> {Point[<id>] <name>, Point[<id>] <name>}`,
     причем информация об отрезке будет выделена цветом отрезка, а точки будут своих цветов.
   - если передан параметр `-s|--short`, будет выведено `Section[<id>] <name>`.
   - если передан параметр `-t|--with-tags`, будут выведены теги объектов.
   - если вызван `show --point [<id>|<name>]`, будет выведена информация о точке отрезка
     с данным именем или ID.
2. `id` -- выводит ID отрезка.
3. `name` -- выводит имя отрезка.
4. `color` -- выводит цвет отрезка.
5. `tag` -- Позволяет работать с тегами отрезка.
   - `tag --show` -- Выводит список тегов. Если список пуст, выведет `This section does not have tags assigned to it`.
   - `tag --add <list of tags>` -- Добавляет данные теги к списку тегов для отрезка.
   - `tag --rm <list of tags>` -- удаляет, если возможно, переданные теги из отрезка.
6. `set` -- задает информацию об отрезке. Принимает на вход от одного до всех параметров (цвет, имя, теги)
   - `set [-n|--name <name>] [-c|--color <color>] [-t|--tags <list of tags>]` -- полный вид команды
7. `inspect` -- переходит в режим осмотра данной точки отрезка.
   - `inspect [<id>|<name>]`
8. `back` -- переходит в режим верхнего уровня либо возвращается к осмотру той ГФ, из который был вызван `inspect`.  
9. `hierarchy` -- показывает, частью каких фигур является. 
   - для ребра куба выведет `Section[<id>] <name>  <- Rect[<id>] <name>, Rect[<id>] <name> <- Pyramid[<id>] <name>`

Примеры возможных состояний/представлений:
- `Section[5]`
- `Section[5] "Mushroom"`
- `Section[5] "Mushroom" {Point[1] "fly_agaric", Point[2] "champignon"}`
- `Section[5] "Shroom-235" (little-boy,fat-man) {Point[1] "Hiroshima" (august-6-1945), Point[2] "Nagasaki" (august-9-1945)}`

### Треугольник

Представляет собой набор трех отрезков, имеющих общие точки.

- **ID**
- **цвет**, по умолчанию белый.
- **имя**, может быть одно, по умолчанию не задано.
- **теги**, может быть несколько, по умолчанию нет.

Имеет следующие команды:
1. `show` -- показывает доступную информацию о треугольнике.
   - Если тр-к дефолтный, выведет `Triangle[<id>] {Section[<id>], Section[<id>], Section[<id>]}`
   - В общем случае выведет
     `Triangle[<id>] <name> {Section[<id>] <name>, Section[<id>] <name>, Section[<id>] <name>}`
   - Если передан параметр `-s|--short`, будет выведено `Triangle[<id>] <name>`
   - Если передан параметр `--all`, будут выведены отрезки с точками
   - Если передан параметр `-t|--with-tags`, будут также выведены теги объектов.
   - если вызван `show --point [<id>|<name>]`, будет выведена информация о вершине тр-ка с данным именем или ID.
   - если вызван `show --section [<id>|<name>]`, будет выведет информация о стороне тр-ка с данным именем или ID.
2. `id` -- выводит ID тр-ка.
3. `name` -- выводит имя тр-ка.
4. `color` -- выводит цвет тр-ка.
5. `tag` -- Позволяет работать с тегами тр-ка.
   - `tag --show` -- Выводит список тегов. Если список пуст, выведет `This triangle does not have tags assigned to it`.
   - `tag --add <list of tags>` -- Добавляет данные теги к списку тегов.
   - `tag --rm <list of tags>` -- удаляет, если возможно, переданные теги.
6. `set` -- задает информацию о тр-ке. Принимает на вход от одного до всех параметров (цвет, имя, теги)
   - `set [-n|--name <name>] [-c|--color <color>] [-t|--tags <list of tags>]` -- полный вид команды
7. `inspect [<id>|<name>]` -- переходит в режим осмотра отрезка или точки данного тр-ка.
8. `back` -- переходит в режим верхнего уровня либо возвращается к осмотру той ГФ, из который был вызван `inspect`.
9. `hierarchy` -- показывает, частью каких фигур является. 
   - для грани пирамиды выведет `Triangle[<id>] <name>  <- Pyramid[<id>] <name>`

### Прямоугольник

Представляет собой совокупность четырех отрезков, имеющих общие точки.  

- **ID**
- **цвет**, по умолчанию белый.
- **имя**, может быть одно, по умолчанию не задано.
- **теги**, может быть несколько, по умолчанию нет.

Имеет следующие команды:
1. `show` -- показывает доступную информацию о прямоугольнике.
   - Если пр-к дефолтный, выведет `Rect[<id>] {Section[<id>], Section[<id>], Section[<id>], Section[<id>]}`
   - В общем случае выведет
     `Rect[<id>] <name> {Section[<id>] <name>, Section[<id>] <name>, Section[<id>] <name>, Section[<id>] <name>}`
   - Если передан параметр `-s|--short`, будет выведено `Rect[<id>] <name>`
   - Если передан параметр `--all`, будут выведены отрезки с точками
   - Если передан параметр `-t|--with-tags`, будут также выведены теги объектов.
   - если вызван `show --point [<id>|<name>]`, будет выведена информация о вершине пр-ка с данным именем или ID.
   - если вызван `show --section [<id>|<name>]`, будет выведет информация о стороне пр-ка с данным именем или ID.
2. `id` -- выводит ID пр-ка.
3. `name` -- выводит имя пр-ка.
4. `color` -- выводит цвет пр-ка.
5. `tag` -- Позволяет работать с тегами пр-ка.
   - `tag --show` -- Выводит список тегов. Если список пуст, выведет `This rectangle does not have tags assigned to it`.
   - `tag --add <list of tags>` -- Добавляет данные теги к списку тегов.
   - `tag --rm <list of tags>` -- удаляет, если возможно, переданные теги.
6. `set` -- задает информацию о прямоугольнике. Принимает на вход от одного до всех параметров (цвет, имя, теги)
   - `set [-n|--name <name>] [-c|--color <color>] [-t|--tags <list of tags>]` -- полный вид команды
7. `inspect [<id>|<name>]` -- переходит в режим осмотра стороны или вершины прямоугольника.
8. `back` -- переходит в режим верхнего уровня либо возвращается к осмотру той ГФ, из который был вызван `inspect`.
9. `hierarchy` -- показывает, частью каких фигур является.
   - для грани куба выведет `Rect[<id>] <name>  <- Cube[<id>] <name>`

Примеры возможных состояний/представлений:
- `show -s` -- `Rect[10]`
- `show -s` -- `Rect[10] "square"`
- `show` -- `Rect[10] "square" {Section[5] "north", Section[6] "west", Section[7] "south", Section[8] "east"}`
- `show -s -t` -- `Rect[9] "square" (ulan-ude, square-of-soviets)`
- `show -t`:
```
Rect[9] "square" (ulan-ude, square-of-soviets) {
   Section[5] "north" (state-archive),
   Section[6] "west" (ministry-of-finance, geo-museum),
   Section[7] "south" (civil-registration, philharmony, baikal-plaza),
   Section[8] "east" (administration, lenin-statue)
} 
```
- `show --all`:
```
Rect[9] "square" {
   Section[5] "north" {Point[1] "Russia_Post", Point[2] "FSB"},
   Section[6] "west" {Point[1] "Russia_Post", Point[3] "Theater"},
   Section[7] "south" {Point[3] "Theater", Point[4] "bus-stop"},
   Section[8] "east" {Point[2] "FSB", Point[4] "bus-stop"}
} 
```
- `show -t --all`:
```
Rect[9] "square" (ulan-ude, square-of-soviets) {
   Section[5] "north" (state-archive) {Point[1] "Russia_Post", Point[2] "FSB"},
   Section[6] "west" (ministry-of-finance, geo-museum) {Point[1] "Russia_Post", Point[3] "Theater" (fountain)},
   Section[7] "south" (civil-registration, philharmonia, baikal-plaza) {Point[3] "Theater" (fountain) , Point[4] "bus-stop"},
   Section[8] "east" (administration, lenin-statue) {Point[2] "FSB", Point[4] "bus-stop"}
} 
```

### Ромб

Представляет собой совокупность четырех отрезков, имеющих общие точки.

- **ID**
- **цвет**, по умолчанию белый.
- **имя**, может быть одно, по умолчанию не задано.
- **теги**, может быть несколько, по умолчанию нет.

Имеет следующие команды:
1. `show` -- показывает доступную информацию о ромбе.
   - Если ромб дефолтный, выведет `Rhombus[<id>] {Section[<id>], Section[<id>], Section[<id>], Section[<id>]}`
   - В общем случае выведет
     `Rhombus[<id>] <name> {Section[<id>] <name>, Section[<id>] <name>, Section[<id>] <name>, Section[<id>] <name>}`
   - Если передан параметр `-s|--short`, будет выведено `Rect[<id>] <name>`
   - Если передан параметр `--all`, будут выведены отрезки с точками.
   - Если передан параметр `-t|--with-tags`, будут также выведены теги объектов.
   - если вызван `show --point [<id>|<name>]`, будет выведена информация о вершине ромба с данным именем или ID.
   - если вызван `show --section [<id>|<name>]`, будет выведет информация о стороне ромба с данным именем или ID.
2. `id` -- выводит ID ромба.
3. `name` -- выводит имя ромба.
4. `color` -- выводит цвет ромба.
5. `tag` -- Позволяет работать с тегами ромба.
   - `tag --show` -- Выводит список тегов. Если список пуст, выведет `This rhombus does not have tags assigned to it`.
   - `tag --add <list of tags>` -- Добавляет данные теги к списку тегов.
   - `tag --rm <list of tags>` -- удаляет, если возможно, переданные теги.
6. `set` -- задает информацию о ромбе. Принимает на вход от одного до всех параметров (цвет, имя, теги)
   - `set [-n|--name <name>] [-c|--color <color>] [-t|--tags <list of tags>]` -- полный вид команды
7. `inspect` -- переходит в режим осмотра стороны или вершины ромба.
   - `inspect [<id>|<name>]`
8. `back` -- переходит в режим верхнего уровня либо возвращается к осмотру той ГФ, из который был вызван `inspect`.
9. `hierarchy` -- показывает, частью каких фигур является.

### Куб

Представляет собой совокупность шести квадратных граней. В составе куба 8 вершин, 12 ребер, 6 граней.

- **ID**
- **цвет**, по умолчанию белый.
- **имя**, может быть одно, по умолчанию не задано.
- **теги**, может быть несколько, по умолчанию нет.

Имеет следующие команды:

1. `show` -- показываот доступную информацию о кубе.
   - если куб дефолтный, выведет `Cube[<id>] {Rect[<id>], Rect[<id>], Rect[<id>], Rect[<id>], Rect[<id>], Rect[<id>]}`
   - В общем случае выведет куб с ID и именем, а также составные грани с ID и именами. 
   - Если передан параметр `-s|--short`, будет выведено `Rect[<id>] <name>`.
   - если передан параметр `-t|--with-tags`, будут выведены теги.
   - если вызван `show --point [<id>|<name>]`, будет выведена информация о вершине куба с данным именем или ID.
   - если вызван `show --section [<id>|<name>]`, выведет информацию о ребре куба с данным именем или ID.
   - если вызван `show --face [<id>|<name>]`, выведет информацию о грани куба с данным именем или ID.
2. `id` - выводит ID куба.
3. `name` -- выводит имя куба.
4. `color` -- выводит цвет куба.
5. `tag` -- Позволяет работать с тегами куба.
   - `tag --show`
   - `tag --add <list of tags>`
   - `tag --rm <list of tags>`
6. `set` -- задает информацию о кубе. Принимает на вход от одного до всех параметров (цвет, имя, теги)
   - `set [-n|--name <name>] [-c|--color <color>] [-t|--tags <list of tags>]` -- полный вид команды
7. `inspect` -- переходит в режим осмотра составного элемента куба (вершина, ребро или грань).
   - `inspect [<id>|<name>]`
8. `back` -- переходит в режим верхнего уровня.

Примеры возможных состояний/представлений:

- `show -s` -- `Cube[30]`
- `show -s` -- `Cube[30] "some_cube"`
- `show` -- `Cube[30] "Some_Cube" {Rect[21] "Front", Rect[22] "Back", Rect[23] "Top", Rect[24] "Left", Rect[25] "Bottom",  Rect[26] "Right"}`
- `show -t`:
```
Cube[30] "Refrigerator" (fridge,no-frost) {
   Rect[21] "Front" (door),
   Rect[22] "Back" (vapor-chamber),
   Rect[23] "Top" (nice-hat),
   Rect[24] "Left" (sun-side,funny-side),
   Rect[25] "Bottom" (underground),
   Rect[26] "Right" (kitchen-side)
}
```

### Пирамида с прямоугольным основанием

Представляет собой совокупность четырех треугольных граней и прямоугольного основания.
В пирамиде 5 вершин, 8 ребер, 5 граней.

- **ID**
- **цвет**, по умолчанию белый.
- **имя**, может быть одно, по умолчанию не задано.
- **теги**, может быть несколько, по умолчанию нет.

Имеет следующие команды:

1. `show`
   - В общем случае выведет пирамиду с ID и именем, а также составные грани с ID и именами.
   - Если передан параметр `-s|--short`, будет выведено `Pyramid[<id>] <name>`.
   - если передан параметр `-t|--with-tags`, будут выведены теги.
   - если вызван `show --point [<id>|<name>]`, будет выведена информация о вершине пирамиды с данным именем или ID.
   - если вызван `show --section [<id>|<name>]`, выведет информацию о ребре пирамиды с данным именем или ID.
   - если вызван `show --face [<id>|<name>]`, выведет информацию о грани пирамиды с данным именем или ID.
2. `id` - выводит ID пирамиды.
3. `name` -- выводит имя пирамиды.
4. `color` -- выводит цвет пирамиды.
5. `tag` -- Позволяет работать с тегами пирамиды.
   - `tag --show`
   - `tag --add <list of tags>`
   - `tag --rm <list of tags>`
6. `set` -- задает информацию о пирамиды. Принимает на вход от одного до всех параметров (цвет, имя, теги)
   - `set [-n|--name <name>] [-c|--color <color>] [-t|--tags <list of tags>]` -- полный вид команды
7. `inspect` -- переходит в режим осмотра составного элемента пирамиды (вершина, ребро или грань).
   - `inspect [<id>|<name>]`
8. `back` -- переходит в режим верхнего уровня.

Примеры возможных состояний/представлений:

- `show -s` -- `Pyramid[20]`
- `show -s` -- `Pyramid[20] "Tutankhamun"`
- `show` -- `Pyramid[20] "Memphis" {Rect[15] "Basement", Triangle[16] "North", Triangle[17] "West", Triangle[18] "South", Triangle[19] "East"}`
